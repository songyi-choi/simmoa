<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³„ìë¦¬ ê¶í•© - ë‘ ì‚¬ëŒì˜ ìš´ëª…ì  ë§Œë‚¨</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6727122014134843"
         crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            position: relative;
        }

        /* ë³„ ì• ë‹ˆë©”ì´ì…˜ */
        .stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
            animation: shoot 3s linear infinite;
            opacity: 0;
        }

        @keyframes shoot {
            0% {
                opacity: 1;
                transform: translateX(0) translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateX(-300px) translateY(300px);
            }
        }

        .container {
            background: rgba(20, 20, 40, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 
                        inset 0 0 60px rgba(138, 101, 255, 0.1);
            max-width: 900px;
            width: 100%;
            padding: 50px;
            position: relative;
            border: 1px solid rgba(138, 101, 255, 0.3);
            z-index: 2;
        }

        .cosmic-glow {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(138, 101, 255, 0.15) 0%, transparent 70%);
            pointer-events: none;
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        h1 {
            text-align: center;
            background: linear-gradient(135deg, #8A65FF 0%, #E0B0FF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.8em;
            margin-bottom: 10px;
            position: relative;
            text-shadow: 0 0 30px rgba(138, 101, 255, 0.5);
            letter-spacing: 2px;
        }

        .subtitle {
            text-align: center;
            color: #B8A8E0;
            margin-bottom: 40px;
            font-size: 1.2em;
            letter-spacing: 1px;
        }

        .start-screen, .result-screen {
            position: relative;
        }

        .input-group {
            margin-bottom: 30px;
        }

        .gender-section {
            background: linear-gradient(135deg, rgba(255, 182, 193, 0.15) 0%, rgba(255, 192, 203, 0.15) 100%);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 182, 193, 0.3);
            backdrop-filter: blur(5px);
        }

        .gender-section.male {
            background: linear-gradient(135deg, rgba(135, 206, 250, 0.15) 0%, rgba(173, 216, 230, 0.15) 100%);
            border: 1px solid rgba(135, 206, 250, 0.3);
        }

        .gender-label {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #E0B0FF;
        }

        .gender-icon {
            font-size: 1.6em;
        }

        .date-input-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .date-label {
            color: #B8A8E0;
            margin-bottom: 8px;
            font-size: 0.95em;
            display: block;
        }

        input[type="date"] {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid rgba(138, 101, 255, 0.3);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: #E0B0FF;
            cursor: pointer;
            transition: all 0.3s;
        }

        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(0.7);
            cursor: pointer;
        }

        input[type="date"]:hover {
            border-color: #8A65FF;
            background: rgba(138, 101, 255, 0.1);
        }

        input[type="date"]:focus {
            outline: none;
            border-color: #8A65FF;
            box-shadow: 0 0 0 3px rgba(138, 101, 255, 0.2);
        }

        .btn {
            width: 100%;
            padding: 18px;
            font-size: 1.2em;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #8A65FF 0%, #E0B0FF 100%);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            box-shadow: 0 5px 25px rgba(138, 101, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 35px rgba(138, 101, 255, 0.6);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result-screen {
            display: none;
        }

        .compatibility-score {
            text-align: center;
            margin: 40px 0;
        }

        .score-circle {
            width: 220px;
            height: 220px;
            margin: 0 auto 20px;
            position: relative;
            filter: drop-shadow(0 0 20px rgba(138, 101, 255, 0.6));
        }

        .score-number {
            font-size: 4.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #8A65FF 0%, #E0B0FF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(138, 101, 255, 0.8);
        }

        .score-text {
            font-size: 1.4em;
            color: #B8A8E0;
            margin-top: 10px;
            letter-spacing: 1px;
        }

        .couple-names {
            text-align: center;
            font-size: 2em;
            color: #E0B0FF;
            margin-bottom: 30px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .heart-icon {
            color: #FF69B4;
            margin: 0 15px;
            animation: heartbeat 1.5s infinite;
            filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.8));
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.15); }
        }

        .compatibility-details {
            margin: 30px 0;
        }

        .detail-category {
            background: rgba(138, 101, 255, 0.08);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(138, 101, 255, 0.2);
        }

        .detail-category h3 {
            background: linear-gradient(135deg, #8A65FF 0%, #E0B0FF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            font-size: 1.4em;
            text-align: center;
        }

        #radarChart {
            display: block;
            margin: 0 auto;
            filter: drop-shadow(0 0 20px rgba(138, 101, 255, 0.3));
        }

        .advice-section {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.12) 0%, rgba(255, 223, 0, 0.12) 100%);
            padding: 28px;
            border-radius: 15px;
            margin: 25px 0;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .advice-section h3 {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .advice-section p {
            line-height: 1.9;
            color: #D8C8F0;
            margin-bottom: 10px;
        }

        .warning-section {
            background: linear-gradient(135deg, rgba(255, 99, 132, 0.12) 0%, rgba(255, 105, 180, 0.12) 100%);
            padding: 28px;
            border-radius: 15px;
            margin: 25px 0;
            border: 1px solid rgba(255, 99, 132, 0.3);
        }

        .warning-section h3 {
            background: linear-gradient(135deg, #FF6384 0%, #FF69B4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .warning-section p {
            line-height: 1.9;
            color: #D8C8F0;
            margin-bottom: 10px;
        }

        .share-btn {
            background: linear-gradient(135deg, #00D9FF 0%, #00B4D8 100%);
            margin-top: 10px;
            box-shadow: 0 5px 25px rgba(0, 217, 255, 0.4);
        }

        .share-btn:hover {
            box-shadow: 0 10px 35px rgba(0, 217, 255, 0.6);
        }

        .reset-btn {
            background: linear-gradient(135deg, #6B7280 0%, #4B5563 100%);
            box-shadow: 0 5px 25px rgba(107, 114, 128, 0.4);
        }

        .reset-btn:hover {
            box-shadow: 0 10px 35px rgba(107, 114, 128, 0.6);
        }

        .zodiac-display {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 16px;
            background: rgba(138, 101, 255, 0.15);
            border-radius: 20px;
            color: #E0B0FF;
            font-size: 0.95em;
            border: 1px solid rgba(138, 101, 255, 0.3);
        }

        @media (max-width: 600px) {
            .container {
                padding: 30px 20px;
            }

            h1 {
                font-size: 2.2em;
            }

            .score-number {
                font-size: 3.5em;
            }

            .couple-names {
                font-size: 1.5em;
            }

            .date-input-group {
                flex-direction: column;
            }

            input[type="date"] {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ë³„ ì• ë‹ˆë©”ì´ì…˜ ìƒì„± -->
    <div class="stars-container" id="starsContainer"></div>

    <div class="container">
        <div class="cosmic-glow"></div>
        
        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="start-screen" id="startScreen">
            <h1>âœ¨ ë³„ìë¦¬ ê¶í•© âœ¨</h1>
            <p class="subtitle">ë‘ ì‚¬ëŒì˜ ìƒë…„ì›”ì¼ë¡œ ì•Œì•„ë³´ëŠ” ìš´ëª…ì  ë§Œë‚¨</p>

            <div class="input-group">
                <div class="gender-section male">
                    <div class="gender-label">
                        <span class="gender-icon">â™‚ï¸</span> ë‚¨ì„±ì˜ ìƒë…„ì›”ì¼
                    </div>
                    <label class="date-label">ìƒë…„ì›”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</label>
                    <input type="date" id="maleBirthdate" max="2024-12-31">
                    <div class="zodiac-display" id="maleZodiacDisplay" style="display: none;"></div>
                </div>

                <div class="gender-section">
                    <div class="gender-label">
                        <span class="gender-icon">â™€ï¸</span> ì—¬ì„±ì˜ ìƒë…„ì›”ì¼
                    </div>
                    <label class="date-label">ìƒë…„ì›”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</label>
                    <input type="date" id="femaleBirthdate" max="2024-12-31">
                    <div class="zodiac-display" id="femaleZodiacDisplay" style="display: none;"></div>
                </div>
            </div>

            <button class="btn" onclick="calculateCompatibility()"><span style="position: relative; z-index: 1;">ğŸ’« ê¶í•© ì•Œì•„ë³´ê¸°</span></button>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="result-screen" id="resultScreen">
            <h1>âœ¨ ê¶í•© ê²°ê³¼ âœ¨</h1>
            
            <div class="couple-names" id="coupleNames"></div>

            <div class="compatibility-score">
                <div class="score-circle">
                    <canvas id="scoreCanvas" width="220" height="220"></canvas>
                </div>
                <div class="score-number" id="scoreNumber">0%</div>
                <div class="score-text" id="scoreText"></div>
            </div>

            <div class="compatibility-details">
                <div class="detail-category">
                    <h3>ğŸŒŸ ì„¸ë¶€ ê¶í•© ë¶„ì„ ğŸŒŸ</h3>
                    <div id="detailChart"></div>
                </div>

                <div class="advice-section">
                    <h3>ğŸ’• ì¶”ì²œí•˜ëŠ” ì—°ì•  ìŠ¤íƒ€ì¼</h3>
                    <p id="adviceText"></p>
                </div>

                <div class="warning-section">
                    <h3>âš ï¸ ì£¼ì˜í•´ì•¼ í•  ì </h3>
                    <p id="warningText"></p>
                </div>

                <div class="detail-category" style="margin-top: 20px;">
                    <h3>ğŸ”® ê´€ê³„ì˜ íŠ¹ì§•</h3>
                    <div id="relationshipInsights" style="color: #D8C8F0; line-height: 1.8;"></div>
                </div>
            </div>

            <button class="btn share-btn" onclick="shareResult()"><span style="position: relative; z-index: 1;">ğŸ“¤ ê²°ê³¼ ê³µìœ í•˜ê¸°</span></button>
            <button class="btn reset-btn" onclick="resetForm()"><span style="position: relative; z-index: 1;">ğŸ”„ ë‹¤ì‹œ ì•Œì•„ë³´ê¸°</span></button>
        </div>
    </div>

    <script>
        // ë³„ ìƒì„±
        function createStars() {
            const container = document.getElementById('starsContainer');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.opacity = Math.random() * 0.7 + 0.3;
                container.appendChild(star);
            }
            
            // ìœ ì„± ì¶”ê°€
            for (let i = 0; i < 3; i++) {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'shooting-star';
                shootingStar.style.left = Math.random() * 100 + '%';
                shootingStar.style.top = Math.random() * 50 + '%';
                shootingStar.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(shootingStar);
            }
        }
        
        createStars();

        // ìƒë…„ì›”ì¼ë¡œ ë³„ìë¦¬ ê³„ì‚°
        function getZodiacFromDate(dateString) {
            if (!dateString) return null;
            
            const date = new Date(dateString);
            const month = date.getMonth() + 1;
            const day = date.getDate();
            
            if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) return 'aries';
            if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) return 'taurus';
            if ((month === 5 && day >= 21) || (month === 6 && day <= 21)) return 'gemini';
            if ((month === 6 && day >= 22) || (month === 7 && day <= 22)) return 'cancer';
            if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) return 'leo';
            if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) return 'virgo';
            if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) return 'libra';
            if ((month === 10 && day >= 23) || (month === 11 && day <= 22)) return 'scorpio';
            if ((month === 11 && day >= 23) || (month === 12 && day <= 21)) return 'sagittarius';
            if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) return 'capricorn';
            if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) return 'aquarius';
            if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) return 'pisces';
            
            return null;
        }

        // ìƒë…„ì›”ì¼ ì…ë ¥ì‹œ ë³„ìë¦¬ í‘œì‹œ
        document.getElementById('maleBirthdate').addEventListener('change', function(e) {
            const zodiac = getZodiacFromDate(e.target.value);
            const display = document.getElementById('maleZodiacDisplay');
            if (zodiac) {
                const data = zodiacData[zodiac];
                display.textContent = `${data.emoji} ${data.name}`;
                display.style.display = 'inline-block';
            }
        });

        document.getElementById('femaleBirthdate').addEventListener('change', function(e) {
            const zodiac = getZodiacFromDate(e.target.value);
            const display = document.getElementById('femaleZodiacDisplay');
            if (zodiac) {
                const data = zodiacData[zodiac];
                display.textContent = `${data.emoji} ${data.name}`;
                display.style.display = 'inline-block';
            }
        });
        // ë³„ìë¦¬ ë°ì´í„° (ì„œì–‘ ì ì„±ìˆ  ê¸°ë°˜)
        const zodiacData = {
            aries: { name: 'ì–‘ìë¦¬', element: 'fire', traits: ['ì—´ì •ì ', 'ë¦¬ë”ì‹­', 'ì§ì§„'], emoji: 'â™ˆ' },
            taurus: { name: 'í™©ì†Œìë¦¬', element: 'earth', traits: ['ì•ˆì •ì ', 'ì‹ ì¤‘í•¨', 'ëˆê¸°'], emoji: 'â™‰' },
            gemini: { name: 'ìŒë‘¥ì´ìë¦¬', element: 'air', traits: ['ì‚¬êµì ', 'í˜¸ê¸°ì‹¬', 'ë³€í™”'], emoji: 'â™Š' },
            cancer: { name: 'ê²Œìë¦¬', element: 'water', traits: ['ê°ì„±ì ', 'ë³´í˜¸ë³¸ëŠ¥', 'ê°€ì •ì '], emoji: 'â™‹' },
            leo: { name: 'ì‚¬ììë¦¬', element: 'fire', traits: ['ìì‹ ê°', 'ê´€ëŒ€í•¨', 'ì°½ì˜ì '], emoji: 'â™Œ' },
            virgo: { name: 'ì²˜ë…€ìë¦¬', element: 'earth', traits: ['ë¶„ì„ì ', 'ì™„ë²½ì£¼ì˜', 'ì‹¤ìš©ì '], emoji: 'â™' },
            libra: { name: 'ì²œì¹­ìë¦¬', element: 'air', traits: ['ê· í˜•', 'ì¡°í™”', 'ì‚¬êµì '], emoji: 'â™' },
            scorpio: { name: 'ì „ê°ˆìë¦¬', element: 'water', traits: ['ê°•ë ¬í•¨', 'ì‹ ë¹„ë¡œì›€', 'ì§‘ì¤‘ë ¥'], emoji: 'â™' },
            sagittarius: { name: 'ì‚¬ìˆ˜ìë¦¬', element: 'fire', traits: ['ììœ ë¡œì›€', 'ë‚™ì²œì ', 'ëª¨í—˜'], emoji: 'â™' },
            capricorn: { name: 'ì—¼ì†Œìë¦¬', element: 'earth', traits: ['ì±…ì„ê°', 'ì•¼ë§', 'ì¸ë‚´'], emoji: 'â™‘' },
            aquarius: { name: 'ë¬¼ë³‘ìë¦¬', element: 'air', traits: ['ë…ì°½ì ', 'ì´ìƒì£¼ì˜', 'ì¸ë„ì£¼ì˜'], emoji: 'â™’' },
            pisces: { name: 'ë¬¼ê³ ê¸°ìë¦¬', element: 'water', traits: ['ì§ê´€ì ', 'ê³µê°ëŠ¥ë ¥', 'ì˜ˆìˆ ì '], emoji: 'â™“' }
        };

        // ê¶í•© ë°ì´í„° (ì ì„±ìˆ  ì›ì†Œ ì´ë¡  ê¸°ë°˜) - 6ê°œ ì¹´í…Œê³ ë¦¬ë¡œ í™•ì¥
        const compatibilityMatrix = {
            'aries-aries': { score: 85, love: 90, communication: 80, trust: 85, passion: 95, values: 88, longterm: 82 },
            'aries-taurus': { score: 65, love: 70, communication: 60, trust: 75, passion: 60, values: 62, longterm: 68 },
            'aries-gemini': { score: 88, love: 85, communication: 95, trust: 80, passion: 90, values: 85, longterm: 85 },
            'aries-cancer': { score: 60, love: 65, communication: 55, trust: 70, passion: 55, values: 58, longterm: 62 },
            'aries-leo': { score: 95, love: 95, communication: 90, trust: 95, passion: 100, values: 92, longterm: 93 },
            'aries-virgo': { score: 55, love: 60, communication: 50, trust: 65, passion: 50, values: 52, longterm: 58 },
            'aries-libra': { score: 75, love: 80, communication: 85, trust: 70, passion: 70, values: 73, longterm: 77 },
            'aries-scorpio': { score: 70, love: 75, communication: 65, trust: 75, passion: 85, values: 68, longterm: 72 },
            'aries-sagittarius': { score: 93, love: 90, communication: 95, trust: 90, passion: 95, values: 90, longterm: 91 },
            'aries-capricorn': { score: 58, love: 60, communication: 55, trust: 70, passion: 55, values: 60, longterm: 62 },
            'aries-aquarius': { score: 82, love: 80, communication: 90, trust: 75, passion: 85, values: 80, longterm: 80 },
            'aries-pisces': { score: 63, love: 70, communication: 60, trust: 65, passion: 60, values: 62, longterm: 65 },
            
            'taurus-taurus': { score: 80, love: 85, communication: 75, trust: 90, passion: 75, values: 85, longterm: 88 },
            'taurus-gemini': { score: 60, love: 65, communication: 70, trust: 55, passion: 50, values: 58, longterm: 62 },
            'taurus-cancer': { score: 92, love: 95, communication: 85, trust: 95, passion: 90, values: 93, longterm: 94 },
            'taurus-leo': { score: 68, love: 70, communication: 65, trust: 75, passion: 70, values: 68, longterm: 70 },
            'taurus-virgo': { score: 95, love: 90, communication: 95, trust: 100, passion: 90, values: 97, longterm: 96 },
            'taurus-libra': { score: 78, love: 80, communication: 75, trust: 80, passion: 75, values: 78, longterm: 80 },
            'taurus-scorpio': { score: 88, love: 90, communication: 80, trust: 90, passion: 95, values: 85, longterm: 88 },
            'taurus-sagittarius': { score: 55, love: 60, communication: 55, trust: 60, passion: 50, values: 52, longterm: 58 },
            'taurus-capricorn': { score: 97, love: 95, communication: 95, trust: 100, passion: 95, values: 98, longterm: 97 },
            'taurus-aquarius': { score: 58, love: 60, communication: 60, trust: 60, passion: 55, values: 55, longterm: 60 },
            'taurus-pisces': { score: 85, love: 90, communication: 80, trust: 85, passion: 85, values: 83, longterm: 87 },

            'gemini-gemini': { score: 83, love: 80, communication: 95, trust: 75, passion: 85, values: 82, longterm: 80 },
            'gemini-cancer': { score: 65, love: 70, communication: 65, trust: 65, passion: 60, values: 63, longterm: 67 },
            'gemini-leo': { score: 88, love: 85, communication: 95, trust: 80, passion: 90, values: 86, longterm: 85 },
            'gemini-virgo': { score: 68, love: 70, communication: 75, trust: 65, passion: 65, values: 68, longterm: 70 },
            'gemini-libra': { score: 93, love: 90, communication: 100, trust: 85, passion: 90, values: 92, longterm: 90 },
            'gemini-scorpio': { score: 60, love: 65, communication: 60, trust: 60, passion: 70, values: 58, longterm: 62 },
            'gemini-sagittarius': { score: 90, love: 85, communication: 100, trust: 80, passion: 95, values: 88, longterm: 87 },
            'gemini-capricorn': { score: 55, love: 60, communication: 55, trust: 60, passion: 50, values: 52, longterm: 58 },
            'gemini-aquarius': { score: 95, love: 90, communication: 100, trust: 90, passion: 95, values: 93, longterm: 92 },
            'gemini-pisces': { score: 63, love: 70, communication: 65, trust: 60, passion: 60, values: 62, longterm: 65 },

            'cancer-cancer': { score: 85, love: 95, communication: 80, trust: 85, passion: 80, values: 88, longterm: 90 },
            'cancer-leo': { score: 70, love: 75, communication: 70, trust: 70, passion: 70, values: 68, longterm: 72 },
            'cancer-virgo': { score: 90, love: 90, communication: 90, trust: 95, passion: 85, values: 90, longterm: 92 },
            'cancer-libra': { score: 68, love: 70, communication: 75, trust: 65, passion: 65, values: 68, longterm: 70 },
            'cancer-scorpio': { score: 97, love: 100, communication: 90, trust: 95, passion: 100, values: 95, longterm: 96 },
            'cancer-sagittarius': { score: 58, love: 60, communication: 60, trust: 60, passion: 55, values: 55, longterm: 60 },
            'cancer-capricorn': { score: 88, love: 85, communication: 85, trust: 95, passion: 90, values: 90, longterm: 91 },
            'cancer-aquarius': { score: 55, love: 60, communication: 55, trust: 60, passion: 50, values: 52, longterm: 58 },
            'cancer-pisces': { score: 98, love: 100, communication: 95, trust: 95, passion: 100, values: 97, longterm: 97 },

            'leo-leo': { score: 80, love: 90, communication: 75, trust: 75, passion: 95, values: 82, longterm: 78 },
            'leo-virgo': { score: 63, love: 65, communication: 65, trust: 70, passion: 60, values: 62, longterm: 65 },
            'leo-libra': { score: 88, love: 90, communication: 90, trust: 80, passion: 90, values: 86, longterm: 85 },
            'leo-scorpio': { score: 73, love: 75, communication: 70, trust: 75, passion: 85, values: 72, longterm: 75 },
            'leo-sagittarius': { score: 97, love: 95, communication: 95, trust: 95, passion: 100, values: 95, longterm: 95 },
            'leo-capricorn': { score: 60, love: 65, communication: 60, trust: 65, passion: 60, values: 58, longterm: 62 },
            'leo-aquarius': { score: 75, love: 75, communication: 85, trust: 70, passion: 75, values: 73, longterm: 77 },
            'leo-pisces': { score: 68, love: 70, communication: 70, trust: 70, passion: 70, values: 67, longterm: 70 },

            'virgo-virgo': { score: 82, love: 80, communication: 90, trust: 90, passion: 75, values: 85, longterm: 88 },
            'virgo-libra': { score: 73, love: 75, communication: 80, trust: 70, passion: 70, values: 72, longterm: 75 },
            'virgo-scorpio': { score: 88, love: 85, communication: 85, trust: 95, passion: 90, values: 88, longterm: 90 },
            'virgo-sagittarius': { score: 58, love: 60, communication: 60, trust: 60, passion: 55, values: 55, longterm: 60 },
            'virgo-capricorn': { score: 95, love: 90, communication: 95, trust: 100, passion: 95, values: 97, longterm: 96 },
            'virgo-aquarius': { score: 63, love: 65, communication: 70, trust: 60, passion: 60, values: 62, longterm: 65 },
            'virgo-pisces': { score: 85, love: 90, communication: 80, trust: 85, passion: 85, values: 83, longterm: 87 },

            'libra-libra': { score: 85, love: 90, communication: 90, trust: 80, passion: 80, values: 85, longterm: 83 },
            'libra-scorpio': { score: 70, love: 75, communication: 70, trust: 70, passion: 80, values: 68, longterm: 72 },
            'libra-sagittarius': { score: 88, love: 85, communication: 95, trust: 80, passion: 90, values: 86, longterm: 85 },
            'libra-capricorn': { score: 65, love: 70, communication: 65, trust: 70, passion: 65, values: 63, longterm: 67 },
            'libra-aquarius': { score: 93, love: 90, communication: 100, trust: 85, passion: 90, values: 92, longterm: 90 },
            'libra-pisces': { score: 75, love: 80, communication: 75, trust: 75, passion: 75, values: 73, longterm: 77 },

            'scorpio-scorpio': { score: 88, love: 95, communication: 80, trust: 85, passion: 100, values: 87, longterm: 89 },
            'scorpio-sagittarius': { score: 68, love: 70, communication: 70, trust: 70, passion: 75, values: 67, longterm: 70 },
            'scorpio-capricorn': { score: 92, love: 90, communication: 90, trust: 95, passion: 95, values: 92, longterm: 93 },
            'scorpio-aquarius': { score: 63, love: 65, communication: 65, trust: 65, passion: 70, values: 62, longterm: 65 },
            'scorpio-pisces': { score: 97, love: 100, communication: 90, trust: 95, passion: 100, values: 95, longterm: 96 },

            'sagittarius-sagittarius': { score: 85, love: 85, communication: 95, trust: 80, passion: 90, values: 85, longterm: 82 },
            'sagittarius-capricorn': { score: 60, love: 65, communication: 60, trust: 65, passion: 60, values: 58, longterm: 62 },
            'sagittarius-aquarius': { score: 90, love: 85, communication: 100, trust: 85, passion: 90, values: 88, longterm: 87 },
            'sagittarius-pisces': { score: 68, love: 70, communication: 70, trust: 70, passion: 70, values: 67, longterm: 70 },

            'capricorn-capricorn': { score: 85, love: 85, communication: 85, trust: 95, passion: 85, values: 90, longterm: 92 },
            'capricorn-aquarius': { score: 68, love: 70, communication: 70, trust: 70, passion: 70, values: 67, longterm: 70 },
            'capricorn-pisces': { score: 88, love: 90, communication: 85, trust: 90, passion: 85, values: 88, longterm: 90 },

            'aquarius-aquarius': { score: 83, love: 80, communication: 95, trust: 80, passion: 85, values: 85, longterm: 80 },
            'aquarius-pisces': { score: 70, love: 75, communication: 70, trust: 70, passion: 70, values: 68, longterm: 72 },

            'pisces-pisces': { score: 88, love: 95, communication: 85, trust: 85, passion: 90, values: 88, longterm: 90 }
        };

        function getCompatibilityKey(zodiac1, zodiac2) {
            const key1 = `${zodiac1}-${zodiac2}`;
            const key2 = `${zodiac2}-${zodiac1}`;
            return compatibilityMatrix[key1] || compatibilityMatrix[key2];
        }

        function calculateCompatibility() {
            const maleBirthdate = document.getElementById('maleBirthdate').value;
            const femaleBirthdate = document.getElementById('femaleBirthdate').value;

            if (!maleBirthdate || !femaleBirthdate) {
                alert('ë‘ ì‚¬ëŒì˜ ìƒë…„ì›”ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const male = getZodiacFromDate(maleBirthdate);
            const female = getZodiacFromDate(femaleBirthdate);

            if (!male || !female) {
                alert('ì˜¬ë°”ë¥¸ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const maleData = zodiacData[male];
            const femaleData = zodiacData[female];
            const compatibility = getCompatibilityKey(male, female);

            // í™”ë©´ ì „í™˜
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';

            // ì»¤í”Œ ì´ë¦„ í‘œì‹œ
            document.getElementById('coupleNames').innerHTML = 
                `${maleData.emoji} ${maleData.name} <span class="heart-icon">â¤ï¸</span> ${femaleData.name} ${femaleData.emoji}`;

            // ì ìˆ˜ ì• ë‹ˆë©”ì´ì…˜
            animateScore(compatibility.score);
            drawScoreCircle(compatibility.score);

            // ì„¸ë¶€ ì°¨íŠ¸
            displayDetailChart(compatibility);

            // ì¡°ì–¸ ë° ê²½ê³  í…ìŠ¤íŠ¸
            displayAdviceAndWarning(male, female, maleData, femaleData, compatibility);
        }

        function animateScore(targetScore) {
            let currentScore = 0;
            const increment = targetScore / 50;
            const scoreElement = document.getElementById('scoreNumber');
            const scoreTextElement = document.getElementById('scoreText');

            const interval = setInterval(() => {
                currentScore += increment;
                if (currentScore >= targetScore) {
                    currentScore = targetScore;
                    clearInterval(interval);
                }
                scoreElement.textContent = Math.round(currentScore) + '%';
            }, 20);

            // ì ìˆ˜ì— ë”°ë¥¸ í…ìŠ¤íŠ¸
            if (targetScore >= 90) {
                scoreTextElement.textContent = 'ì²œìƒì—°ë¶„! ì™„ë²½í•œ ì¡°í™” ğŸ’¯';
            } else if (targetScore >= 80) {
                scoreTextElement.textContent = 'ì•„ì£¼ ì¢‹ì€ ê¶í•©ì´ì—ìš”! ğŸ’•';
            } else if (targetScore >= 70) {
                scoreTextElement.textContent = 'ì¢‹ì€ ì»¤í”Œì´ ë  ìˆ˜ ìˆì–´ìš”! ğŸ’—';
            } else if (targetScore >= 60) {
                scoreTextElement.textContent = 'ë…¸ë ¥í•˜ë©´ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš” âœ¨';
            } else {
                scoreTextElement.textContent = 'ì„œë¡œë¥¼ ì´í•´í•˜ëŠ” ë…¸ë ¥ì´ í•„ìš”í•´ìš” ğŸ’ª';
            }
        }

        function drawScoreCircle(score) {
            const canvas = document.getElementById('scoreCanvas');
            const ctx = canvas.getContext('2d');
            const centerX = 110;
            const centerY = 110;
            const radius = 95;
            const startAngle = -Math.PI / 2;
            const endAngle = startAngle + (2 * Math.PI * score / 100);

            // ë°°ê²½ ì›
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.strokeStyle = 'rgba(138, 101, 255, 0.15)';
            ctx.lineWidth = 18;
            ctx.stroke();

            // ì ìˆ˜ ì› (ê·¸ë¼ë°ì´ì…˜)
            const gradient = ctx.createLinearGradient(0, 0, 220, 220);
            gradient.addColorStop(0, '#8A65FF');
            gradient.addColorStop(1, '#E0B0FF');

            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, startAngle, endAngle);
            ctx.strokeStyle = gradient;
            ctx.lineWidth = 18;
            ctx.lineCap = 'round';
            ctx.stroke();

            // ê¸€ë¡œìš° íš¨ê³¼
            ctx.shadowBlur = 20;
            ctx.shadowColor = 'rgba(138, 101, 255, 0.8)';
            ctx.stroke();
        }

        function displayDetailChart(compatibility) {
            const chartContainer = document.getElementById('detailChart');
            
            // 6ê°œ ì¹´í…Œê³ ë¦¬ ë°ì´í„°
            const categories = [
                { name: 'ì‚¬ë‘ê³¼ ì• ì •', value: compatibility.love, icon: 'ğŸ’–' },
                { name: 'ì˜ì‚¬ì†Œí†µ', value: compatibility.communication, icon: 'ğŸ’¬' },
                { name: 'ì‹ ë¢°', value: compatibility.trust, icon: 'ğŸ¤' },
                { name: 'ì—´ì •', value: compatibility.passion, icon: 'ğŸ”¥' },
                { name: 'ê°€ì¹˜ê´€', value: compatibility.values, icon: 'â­' },
                { name: 'ì¥ê¸°ì „ë§', value: compatibility.longterm, icon: 'ğŸŒ±' }
            ];

            // ìº”ë²„ìŠ¤ ìƒì„±
            chartContainer.innerHTML = `
                <canvas id="radarChart" width="400" height="400" style="max-width: 100%; height: auto;"></canvas>
                <div id="categoryLegend" style="margin-top: 25px; display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px;"></div>
            `;

            // ë ˆì´ë” ì°¨íŠ¸ ê·¸ë¦¬ê¸°
            setTimeout(() => {
                drawHexagonRadarChart(categories);
                displayLegend(categories);
            }, 100);
        }

        function drawHexagonRadarChart(categories) {
            const canvas = document.getElementById('radarChart');
            const ctx = canvas.getContext('2d');
            const centerX = 200;
            const centerY = 200;
            const maxRadius = 150;
            const levels = 5; // 5ë‹¨ê³„ (20, 40, 60, 80, 100)

            // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // ë°°ê²½ ìœ¡ê°í˜• ê·¸ë¦¬ê¸° (ê²©ì)
            for (let level = 1; level <= levels; level++) {
                const radius = (maxRadius / levels) * level;
                ctx.beginPath();
                for (let i = 0; i < 6; i++) {
                    const angle = (Math.PI / 3) * i - Math.PI / 2;
                    const x = centerX + radius * Math.cos(angle);
                    const y = centerY + radius * Math.sin(angle);
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.strokeStyle = 'rgba(138, 101, 255, 0.15)';
                ctx.lineWidth = 1;
                ctx.stroke();
            }

            // ì¶• ê·¸ë¦¬ê¸°
            ctx.strokeStyle = 'rgba(138, 101, 255, 0.2)';
            ctx.lineWidth = 1;
            for (let i = 0; i < 6; i++) {
                const angle = (Math.PI / 3) * i - Math.PI / 2;
                const x = centerX + maxRadius * Math.cos(angle);
                const y = centerY + maxRadius * Math.sin(angle);
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
            }

            // ë°ì´í„° í¬ì¸íŠ¸ ê³„ì‚° ë° ê·¸ë¦¬ê¸°
            const dataPoints = categories.map((cat, i) => {
                const angle = (Math.PI / 3) * i - Math.PI / 2;
                const radius = (cat.value / 100) * maxRadius;
                return {
                    x: centerX + radius * Math.cos(angle),
                    y: centerY + radius * Math.sin(angle)
                };
            });

            // ë°ì´í„° ì˜ì—­ ì±„ìš°ê¸° (ê·¸ë¼ë°ì´ì…˜)
            const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, maxRadius);
            gradient.addColorStop(0, 'rgba(138, 101, 255, 0.4)');
            gradient.addColorStop(1, 'rgba(224, 176, 255, 0.2)');

            ctx.beginPath();
            dataPoints.forEach((point, i) => {
                if (i === 0) {
                    ctx.moveTo(point.x, point.y);
                } else {
                    ctx.lineTo(point.x, point.y);
                }
            });
            ctx.closePath();
            ctx.fillStyle = gradient;
            ctx.fill();

            // ë°ì´í„° ì™¸ê³½ì„  ê·¸ë¦¬ê¸°
            ctx.beginPath();
            dataPoints.forEach((point, i) => {
                if (i === 0) {
                    ctx.moveTo(point.x, point.y);
                } else {
                    ctx.lineTo(point.x, point.y);
                }
            });
            ctx.closePath();
            ctx.strokeStyle = '#8A65FF';
            ctx.lineWidth = 3;
            ctx.stroke();

            // ë°ì´í„° í¬ì¸íŠ¸ ê·¸ë¦¬ê¸°
            dataPoints.forEach((point, i) => {
                // ì™¸ê³½ ì› (ê¸€ë¡œìš°)
                ctx.beginPath();
                ctx.arc(point.x, point.y, 8, 0, 2 * Math.PI);
                ctx.fillStyle = 'rgba(138, 101, 255, 0.3)';
                ctx.fill();

                // ë‚´ë¶€ ì›
                ctx.beginPath();
                ctx.arc(point.x, point.y, 5, 0, 2 * Math.PI);
                ctx.fillStyle = '#E0B0FF';
                ctx.fill();
                ctx.strokeStyle = '#8A65FF';
                ctx.lineWidth = 2;
                ctx.stroke();
            });

            // ë¼ë²¨ ê·¸ë¦¬ê¸°
            ctx.font = 'bold 14px "Segoe UI"';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            categories.forEach((cat, i) => {
                const angle = (Math.PI / 3) * i - Math.PI / 2;
                const labelRadius = maxRadius + 35;
                const x = centerX + labelRadius * Math.cos(angle);
                const y = centerY + labelRadius * Math.sin(angle);
                
                // ì•„ì´ì½˜
                ctx.font = '20px "Segoe UI"';
                ctx.fillStyle = '#E0B0FF';
                ctx.fillText(cat.icon, x, y - 15);
                
                // ì´ë¦„
                ctx.font = 'bold 13px "Segoe UI"';
                ctx.fillStyle = '#B8A8E0';
                ctx.fillText(cat.name, x, y + 5);
                
                // ê°’
                ctx.font = 'bold 12px "Segoe UI"';
                ctx.fillStyle = '#8A65FF';
                ctx.fillText(cat.value + '%', x, y + 20);
            });
        }

        function displayLegend(categories) {
            const legendContainer = document.getElementById('categoryLegend');
            legendContainer.innerHTML = categories.map(cat => `
                <div style="background: rgba(138, 101, 255, 0.08); padding: 12px 15px; border-radius: 10px; border: 1px solid rgba(138, 101, 255, 0.2); display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.3em;">${cat.icon}</span>
                    <div style="flex: 1;">
                        <div style="color: #B8A8E0; font-size: 0.9em; margin-bottom: 3px;">${cat.name}</div>
                        <div style="font-size: 1.1em; font-weight: bold; color: #8A65FF;">${cat.value}%</div>
                    </div>
                </div>
            `).join('');
        }

        function displayAdviceAndWarning(male, female, maleData, femaleData, compatibility) {
            const adviceElement = document.getElementById('adviceText');
            const warningElement = document.getElementById('warningText');
            const insightsElement = document.getElementById('relationshipInsights');

            // ì›ì†Œ ê¸°ë°˜ ì¡°ì–¸
            const maleElement = maleData.element;
            const femaleElement = femaleData.element;

            let advice = '';
            let warning = '';
            let insights = '';

            // ìƒì„¸ ì¸ì‚¬ì´íŠ¸ ìƒì„±
            insights = generateDetailedInsights(male, female, maleData, femaleData, compatibility);

            // ê°™ì€ ì›ì†Œ
            if (maleElement === femaleElement) {
                advice = `ê°™ì€ ${getElementName(maleElement)} ì›ì†Œë¥¼ ê°€ì§„ ë‘ ì‚¬ëŒì€ ì„œë¡œë¥¼ ê¹Šì´ ì´í•´í•  ìˆ˜ ìˆì–´ìš”. ë¹„ìŠ·í•œ ê°€ì¹˜ê´€ê³¼ ì—ë„ˆì§€ë¥¼ ê³µìœ í•˜ë©°, ìì—°ìŠ¤ëŸ½ê²Œ í˜¸í¡ì´ ì˜ ë§ëŠ” ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë¡œì˜ ê°•ì ì„ ê²©ë ¤í•˜ê³  í•¨ê»˜ ì„±ì¥í•˜ëŠ” ì—°ì• ë¥¼ ì¶”ì²œí•´ìš”.`;
                warning = `ë„ˆë¬´ ë¹„ìŠ·í•œ ì„±í–¥ ë•Œë¬¸ì— ê°€ë” ì§€ë£¨í•¨ì„ ëŠë‚„ ìˆ˜ ìˆì–´ìš”. ë•Œë¡œëŠ” ìƒˆë¡œìš´ ê²½í—˜ê³¼ ë„ì „ì„ í•¨ê»˜í•˜ë©° ê´€ê³„ì— í™œë ¥ì„ ë¶ˆì–´ë„£ì–´ ë³´ì„¸ìš”. ë˜í•œ ê°™ì€ ì•½ì ì„ ê³µìœ í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì„œë¡œ ë³´ì™„í•˜ë ¤ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
            }
            // ë¶ˆ-ê³µê¸° (ì¡°í™”)
            else if ((maleElement === 'fire' && femaleElement === 'air') || 
                     (maleElement === 'air' && femaleElement === 'fire')) {
                advice = `ë¶ˆê³¼ ê³µê¸°ì˜ ë§Œë‚¨! ì„œë¡œë¥¼ ìê·¹í•˜ê³  ì„±ì¥ì‹œí‚¤ëŠ” í™˜ìƒì ì¸ ì¡°í•©ì´ì—ìš”. í™œë°œí•œ ëŒ€í™”ì™€ ìƒˆë¡œìš´ ëª¨í—˜ì„ í•¨ê»˜ ì¦ê¸°ëŠ” ì—°ì•  ìŠ¤íƒ€ì¼ì´ ì˜ ë§ìŠµë‹ˆë‹¤. ììœ ë¡œìš´ ë¶„ìœ„ê¸° ì†ì—ì„œ ì„œë¡œì˜ ì°½ì˜ì„±ì„ ê²©ë ¤í•´ì£¼ì„¸ìš”.`;
                warning = `ë‘˜ ë‹¤ í™œë™ì ì´ê³  ë³€í™”ë¥¼ ì¢‹ì•„í•˜ê¸° ë•Œë¬¸ì— ì•ˆì •ê°ì´ ë¶€ì¡±í•  ìˆ˜ ìˆì–´ìš”. ë•Œë¡œëŠ” ì°¨ë¶„íˆ ì•‰ì•„ ê¹Šì€ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ê³ , ì¥ê¸°ì ì¸ ê³„íšì„ í•¨ê»˜ ì„¸ì›Œë³´ëŠ” ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
            }
            // ë¬¼-í™ (ì¡°í™”)
            else if ((maleElement === 'water' && femaleElement === 'earth') || 
                     (maleElement === 'earth' && femaleElement === 'water')) {
                advice = `ë¬¼ê³¼ í™ì˜ ë§Œë‚¨! ê°ì„±ê³¼ ì•ˆì •ì„±ì´ ì¡°í™”ë¥¼ ì´ë£¨ëŠ” í¸ì•ˆí•œ ê´€ê³„ì˜ˆìš”. ì„œë¡œì˜ ê°ì •ì„ ì„¸ì‹¬í•˜ê²Œ ë°°ë ¤í•˜ê³ , ì•ˆì •ì ì¸ ë¯¸ë˜ë¥¼ í•¨ê»˜ ê³„íší•˜ëŠ” ì—°ì• ê°€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤. ì§‘ì—ì„œ í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚´ë©° ê¹Šì€ ìœ ëŒ€ê°ì„ ìŒ“ì•„ê°€ì„¸ìš”.`;
                warning = `ë„ˆë¬´ ì•ˆì „ì§€í–¥ì ì´ ë˜ì–´ ê´€ê³„ê°€ ë¬´ëŒì§ˆ ìˆ˜ ìˆì–´ìš”. ê°€ë”ì€ ì¼ìƒì—ì„œ ë²—ì–´ë‚˜ ìƒˆë¡œìš´ ê²½í—˜ì„ ì‹œë„í•´ë³´ì„¸ìš”. ê°ì • í‘œí˜„ì—ì„œ ì†ë„ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì„œë¡œì˜ ë°©ì‹ì„ ì¡´ì¤‘í•´ì£¼ì„¸ìš”.`;
            }
            // ë¶ˆ-ë¬¼ (ë„ì „)
            else if ((maleElement === 'fire' && femaleElement === 'water') || 
                     (maleElement === 'water' && femaleElement === 'fire')) {
                advice = `ì—´ì •ê³¼ ê°ì„±ì˜ ë§Œë‚¨! ì„œë¡œ ë‹¤ë¥¸ ì—ë„ˆì§€ê°€ ë§¤ë ¥ì ì¸ ê¸´ì¥ê°ì„ ë§Œë“¤ì–´ìš”. ë¶ˆì˜ ì—´ì •ì„ ë¬¼ì˜ ê°ì„±ì´ ë¶€ë“œëŸ½ê²Œ ë‹¤ë…ì´ê³ , ë¬¼ì˜ ê¹Šì´ë¥¼ ë¶ˆì´ ë”°ëœ»í•˜ê²Œ ë°ì›Œì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë¡œì˜ ì°¨ì´ë¥¼ ì¡´ì¤‘í•˜ë©° ë°°ìš°ëŠ” ìì„¸ë¡œ ì—°ì• í•˜ì„¸ìš”.`;
                warning = `ê°ì • í‘œí˜„ ë°©ì‹ì˜ ì°¨ì´ë¡œ ì˜¤í•´ê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”. ì§ì„¤ì ì¸ í‘œí˜„ê³¼ ê°„ì ‘ì ì¸ ì•”ì‹œ ì‚¬ì´ì—ì„œ í˜¼ë€ì„ ê²ªì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ëª…í™•í•œ ì†Œí†µì„ ì—°ìŠµí•˜ì„¸ìš”. ê°ì • ê¸°ë³µì— ì£¼ì˜í•˜ê³  ìƒëŒ€ì˜ ê¸°ë¶„ì„ ì„¸ì‹¬í•˜ê²Œ ì‚´í´ì£¼ì„¸ìš”.`;
            }
            // ê³µê¸°-í™ (ë„ì „)
            else if ((maleElement === 'air' && femaleElement === 'earth') || 
                     (maleElement === 'earth' && femaleElement === 'air')) {
                advice = `ì´ì„±ê³¼ í˜„ì‹¤ì˜ ë§Œë‚¨! ê³µê¸°ì˜ ì°½ì˜ì„±ê³¼ í™ì˜ ì‹¤ìš©ì„±ì´ ë§Œë‚˜ ê· í˜•ì¡íŒ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. í•¨ê»˜ êµ¬ì²´ì ì¸ ê³„íšì„ ì„¸ìš°ë˜, ìœ ì—°ì„±ì„ ìƒì§€ ì•ŠëŠ” ì—°ì• ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. ì„œë¡œì˜ ì¥ì ì„ ì¸ì •í•˜ê³  ë°°ìš°ë ¤ëŠ” ìì„¸ê°€ ì¤‘ìš”í•´ìš”.`;
                warning = `ì†ë„ì™€ ìš°ì„ ìˆœìœ„ì˜ ì°¨ì´ë¡œ ê°ˆë“±ì´ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”. í•œìª½ì€ ë¹ ë¥¸ ë³€í™”ë¥¼ ì›í•˜ê³  ë‹¤ë¥¸ ìª½ì€ ì‹ ì¤‘í•¨ì„ ì„ í˜¸í•  ìˆ˜ ìˆìœ¼ë‹ˆ, íƒ€í˜‘ì ì„ ì°¾ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤. ìƒëŒ€ì˜ í˜ì´ìŠ¤ë¥¼ ì¡´ì¤‘í•´ì£¼ì„¸ìš”.`;
            }
            // ë¶ˆ-í™ (ë„ì „)
            else if ((maleElement === 'fire' && femaleElement === 'earth') || 
                     (maleElement === 'earth' && femaleElement === 'fire')) {
                advice = `ì—´ì •ê³¼ ì•ˆì •ì˜ ë§Œë‚¨! ë¶ˆì˜ ì¶”ì§„ë ¥ê³¼ í™ì˜ ì¸ë‚´ì‹¬ì´ í•©ì³ì§€ë©´ í° ì¼ì„ ì´ë£° ìˆ˜ ìˆì–´ìš”. í•¨ê»˜ ëª©í‘œë¥¼ ì„¸ìš°ê³  ì°¨ê·¼ì°¨ê·¼ ì´ë¤„ê°€ëŠ” ì—°ì• ê°€ ì˜ ë§ìŠµë‹ˆë‹¤. ì„œë¡œì˜ ê°•ì ì„ í™œìš©í•´ ì‹¤ì§ˆì ì¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ê°€ì„¸ìš”.`;
                warning = `í–‰ë™ ë°©ì‹ì˜ ì°¨ì´ë¡œ ë‹µë‹µí•¨ì„ ëŠë‚„ ìˆ˜ ìˆì–´ìš”. í•œìª½ì€ ë¹ ë¥¸ ê²°ì •ì„, ë‹¤ë¥¸ ìª½ì€ ì‹ ì¤‘í•œ ê²€í† ë¥¼ ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸‰í•˜ì§€ ì•Šê²Œ ìƒëŒ€ì˜ ì†ë„ë¥¼ ì´í•´í•˜ê³ , ì¤‘ê°„ ì§€ì ì„ ì°¾ì•„ê°€ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
            }
            // ë¬¼-ê³µê¸° (ë„ì „)
            else {
                advice = `ê°ì„±ê³¼ ì´ì„±ì˜ ë§Œë‚¨! ë¬¼ì˜ ì§ê´€ê³¼ ê³µê¸°ì˜ ë…¼ë¦¬ê°€ ë§Œë‚˜ í’ë¶€í•œ ëŒ€í™”ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆì–´ìš”. ê°ì •ê³¼ ìƒê°ì„ ê· í˜•ìˆê²Œ ë‚˜ëˆ„ë©°, ì„œë¡œì—ê²Œì„œ ìƒˆë¡œìš´ ê´€ì ì„ ë°°ìš°ëŠ” ì—°ì• ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. ê¹Šì€ ëŒ€í™”ì™€ ì§€ì  êµê°ì„ ì¦ê¸°ì„¸ìš”.`;
                warning = `ê°ì • ì²˜ë¦¬ ë°©ì‹ì˜ ì°¨ì´ë¡œ ì†Œí†µì— ì–´ë ¤ì›€ì„ ê²ªì„ ìˆ˜ ìˆì–´ìš”. ê°ì •ì  ì ‘ê·¼ê³¼ ë…¼ë¦¬ì  ë¶„ì„ ì‚¬ì´ì—ì„œ ê´´ë¦¬ê°ì„ ëŠë‚„ ìˆ˜ ìˆìœ¼ë‹ˆ, ìƒëŒ€ì˜ ë°©ì‹ì„ íŒë‹¨í•˜ì§€ ë§ê³  ì´í•´í•˜ë ¤ ë…¸ë ¥í•˜ì„¸ìš”. ê°ì •ê³¼ ì´ì„± ëª¨ë‘ ì¤‘ìš”í•˜ë‹¤ëŠ” ê±¸ ê¸°ì–µí•˜ì„¸ìš”.`;
            }

            adviceElement.textContent = advice;
            warningElement.textContent = warning;
            insightsElement.innerHTML = insights;
        }

        function generateDetailedInsights(male, female, maleData, femaleData, compatibility) {
            let insights = '<div style="display: grid; gap: 15px;">';
            
            // ì‚¬ë‘ ì ìˆ˜ ë¶„ì„
            if (compatibility.love >= 90) {
                insights += `<div>ğŸ’– <strong>ì‚¬ë‘ê³¼ ì• ì •:</strong> ë‘ ì‚¬ëŒì€ ì„œë¡œì—ê²Œ ê¹Šì€ ì• ì •ì„ ëŠë¼ë©°, ê°ì •ì  ìœ ëŒ€ê°ì´ ë§¤ìš° ê°•í•©ë‹ˆë‹¤. ìì—°ìŠ¤ëŸ½ê²Œ ì„œë¡œë¥¼ ì´í•´í•˜ê³  ë°°ë ¤í•˜ëŠ” ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.</div>`;
            } else if (compatibility.love >= 70) {
                insights += `<div>ğŸ’– <strong>ì‚¬ë‘ê³¼ ì• ì •:</strong> ì„œë¡œì—ê²Œ ì§„ì‹¬ ì–´ë¦° ì• ì •ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë”ìš± ê¹Šì–´ì§€ëŠ” ì‚¬ë‘ì„ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>`;
            } else {
                insights += `<div>ğŸ’– <strong>ì‚¬ë‘ê³¼ ì• ì •:</strong> ê°ì • í‘œí˜„ì— ìˆì–´ ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ì„ ê°€ì§€ê³  ìˆì„ ìˆ˜ ìˆì–´ìš”. ìƒëŒ€ì˜ ì‚¬ë‘ ì–¸ì–´ë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.</div>`;
            }

            // ì˜ì‚¬ì†Œí†µ ë¶„ì„
            if (compatibility.communication >= 90) {
                insights += `<div>ğŸ’¬ <strong>ì˜ì‚¬ì†Œí†µ:</strong> ëŒ€í™”ê°€ ë§‰í˜ì—†ì´ íë¥´ê³ , ì„œë¡œì˜ ìƒê°ì„ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì–´ìš”. ì˜ê²¬ ì°¨ì´ê°€ ìˆì–´ë„ ê±´ì„¤ì ì¸ ëŒ€í™”ë¡œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>`;
            } else if (compatibility.communication >= 70) {
                insights += `<div>ğŸ’¬ <strong>ì˜ì‚¬ì†Œí†µ:</strong> ëŒ€ì²´ë¡œ ì›í™œí•œ ì†Œí†µì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ê°€ë” ì˜¤í•´ê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”. ëª…í™•í•œ í‘œí˜„ê³¼ ê²½ì²­ì´ ê´€ê³„ë¥¼ ë”ìš± ë‹¨ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.</div>`;
            } else {
                insights += `<div>ğŸ’¬ <strong>ì˜ì‚¬ì†Œí†µ:</strong> ì˜ì‚¬ì†Œí†µ ë°©ì‹ì˜ ì°¨ì´ë¡œ ì–´ë ¤ì›€ì„ ê²ªì„ ìˆ˜ ìˆì–´ìš”. ì„œë¡œì˜ í‘œí˜„ ë°©ì‹ì„ ë°°ìš°ê³ , ì¸ë‚´ì‹¬ì„ ê°€ì§€ê³  ëŒ€í™”í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</div>`;
            }

            // ì‹ ë¢° ë¶„ì„
            if (compatibility.trust >= 90) {
                insights += `<div>ğŸ¤ <strong>ì‹ ë¢°:</strong> ì„œë¡œë¥¼ ì™„ì „íˆ ë¯¿ê³  ì˜ì§€í•  ìˆ˜ ìˆëŠ” ê´€ê³„ì˜ˆìš”. íˆ¬ëª…í•˜ê³  ì •ì§í•œ ê´€ê³„ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í˜•ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>`;
            } else if (compatibility.trust >= 70) {
                insights += `<div>ğŸ¤ <strong>ì‹ ë¢°:</strong> ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì ì°¨ ê¹Šì€ ì‹ ë¢°ë¥¼ ìŒ“ì•„ê°ˆ ìˆ˜ ìˆì–´ìš”. ì¼ê´€ëœ í–‰ë™ê³¼ ì•½ì† ì´í–‰ì´ ì‹ ë¢°ë¥¼ ê°•í™”í•©ë‹ˆë‹¤.</div>`;
            } else {
                insights += `<div>ğŸ¤ <strong>ì‹ ë¢°:</strong> ì‹ ë¢°ë¥¼ ìŒ“ëŠ” ë° ì‹œê°„ê³¼ ë…¸ë ¥ì´ í•„ìš”í•  ìˆ˜ ìˆì–´ìš”. ì‘ì€ ì•½ì†ë¶€í„° ì§€í‚¤ë©° ì²œì²œíˆ ë¯¿ìŒì„ ìŒ“ì•„ê°€ì„¸ìš”.</div>`;
            }

            // ì—´ì • ë¶„ì„
            if (compatibility.passion >= 90) {
                insights += `<div>ğŸ”¥ <strong>ì—´ì •:</strong> ì„œë¡œì—ê²Œ ê°•í•œ ëŒë¦¼ê³¼ ì—´ì •ì„ ëŠë¼ë©°, ê´€ê³„ì— ìƒë™ê°ì´ ë„˜ì³ìš”. ë¡œë§¨í‹±í•œ ìˆœê°„ë“¤ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì´ì–´ì§‘ë‹ˆë‹¤.</div>`;
            } else if (compatibility.passion >= 70) {
                insights += `<div>ğŸ”¥ <strong>ì—´ì •:</strong> ì ë‹¹í•œ ì—´ì •ê³¼ ì•ˆì •ê°ì´ ê· í˜•ì„ ì´ë£¨ê³  ìˆì–´ìš”. ê°€ë” ë¡œë§¨í‹±í•œ ì´ë²¤íŠ¸ë¡œ ê´€ê³„ì— í™œë ¥ì„ ë¶ˆì–´ë„£ìœ¼ë©´ ì¢‹ìŠµë‹ˆë‹¤.</div>`;
            } else {
                insights += `<div>ğŸ”¥ <strong>ì—´ì •:</strong> ì—´ì •ë³´ë‹¤ëŠ” í¸ì•ˆí•¨ì´ ìš°ì„ ë˜ëŠ” ê´€ê³„ì¼ ìˆ˜ ìˆì–´ìš”. ì˜ì‹ì ìœ¼ë¡œ ë¡œë§¨í‹±í•œ ìˆœê°„ì„ ë§Œë“¤ì–´ê°€ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.</div>`;
            }

            // ê°€ì¹˜ê´€ ë¶„ì„
            if (compatibility.values >= 90) {
                insights += `<div>â­ <strong>ê°€ì¹˜ê´€:</strong> ì¸ìƒì˜ ì¤‘ìš”í•œ ê°€ì¹˜ê´€ì´ ì˜ ë§ì•„ í° ê°ˆë“± ì—†ì´ ê°™ì€ ë°©í–¥ì„ í–¥í•´ ë‚˜ì•„ê°ˆ ìˆ˜ ìˆì–´ìš”. ì¸ìƒì˜ ë™ë°˜ìë¡œì„œ ì´ìƒì ì…ë‹ˆë‹¤.</div>`;
            } else if (compatibility.values >= 70) {
                insights += `<div>â­ <strong>ê°€ì¹˜ê´€:</strong> í•µì‹¬ ê°€ì¹˜ê´€ì€ ìœ ì‚¬í•˜ì§€ë§Œ ì„¸ë¶€ì ì¸ ë¶€ë¶„ì—ì„œ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆì–´ìš”. ì„œë¡œì˜ ê°€ì¹˜ê´€ì„ ì¡´ì¤‘í•˜ë©° ì ˆì¶©ì ì„ ì°¾ì•„ê°€ì„¸ìš”.</div>`;
            } else {
                insights += `<div>â­ <strong>ê°€ì¹˜ê´€:</strong> ì¸ìƒê´€ì´ë‚˜ ìš°ì„ ìˆœìœ„ì—ì„œ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆì–´ìš”. ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•ŒëŠ” ì¶©ë¶„í•œ ëŒ€í™”ì™€ íƒ€í˜‘ì´ í•„ìš”í•©ë‹ˆë‹¤.</div>`;
            }

            // ì¥ê¸° ì „ë§ ë¶„ì„
            if (compatibility.longterm >= 90) {
                insights += `<div>ğŸŒ± <strong>ì¥ê¸° ì „ë§:</strong> ì˜¤ë˜ë„ë¡ í–‰ë³µí•œ ê´€ê³„ë¥¼ ìœ ì§€í•  ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ì•„ìš”. í•¨ê»˜ ì„±ì¥í•˜ê³  ë°œì „í•˜ëŠ” ë¯¸ë˜ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>`;
            } else if (compatibility.longterm >= 70) {
                insights += `<div>ğŸŒ± <strong>ì¥ê¸° ì „ë§:</strong> ì„œë¡œì— ëŒ€í•œ ì´í•´ì™€ ë…¸ë ¥ì„ í†µí•´ ì•ˆì •ì ì¸ ì¥ê¸° ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”. ì§€ì†ì ì¸ ê´€ì‹¬ê³¼ ë°°ë ¤ê°€ ê´€ê±´ì…ë‹ˆë‹¤.</div>`;
            } else {
                insights += `<div>ğŸŒ± <strong>ì¥ê¸° ì „ë§:</strong> ì¥ê¸°ì  ê´€ê³„ë¥¼ ìœ„í•´ì„œëŠ” ë” ë§ì€ ë…¸ë ¥ê³¼ íƒ€í˜‘ì´ í•„ìš”í•  ìˆ˜ ìˆì–´ìš”. í•˜ì§€ë§Œ ì„œë¡œì˜ ì°¨ì´ë¥¼ ë°›ì•„ë“¤ì¸ë‹¤ë©´ ì˜ë¯¸ìˆëŠ” ê´€ê³„ë¡œ ë°œì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>`;
            }

            insights += '</div>';
            return insights;
        }

        function getElementName(element) {
            const names = {
                fire: 'ë¶ˆ(í™”)',
                earth: 'í™(í† )',
                air: 'ê³µê¸°(í’)',
                water: 'ë¬¼(ìˆ˜)'
            };
            return names[element];
        }

        function shareResult() {
            const maleZodiac = document.getElementById('maleZodiac').value;
            const femaleZodiac = document.getElementById('femaleZodiac').value;
            const score = document.getElementById('scoreNumber').textContent;
            const maleData = zodiacData[maleZodiac];
            const femaleData = zodiacData[femaleZodiac];

            const shareText = `${maleData.emoji}${maleData.name} â¤ï¸ ${femaleData.name}${femaleData.emoji}\në³„ìë¦¬ ê¶í•©: ${score}\n\nìš°ë¦¬ì˜ ë³„ìë¦¬ ê¶í•©ì„ ì•Œì•„ë³´ì„¸ìš”!`;

            if (navigator.share) {
                navigator.share({
                    title: 'ë³„ìë¦¬ ê¶í•© ê²°ê³¼',
                    text: shareText
                }).catch(() => {});
            } else {
                // í´ë¦½ë³´ë“œì— ë³µì‚¬
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì¹œêµ¬ë“¤ê³¼ ê³µìœ í•´ë³´ì„¸ìš” ğŸ“‹');
                });
            }
        }

        function resetForm() {
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('maleBirthdate').value = '';
            document.getElementById('femaleBirthdate').value = '';
            document.getElementById('maleZodiacDisplay').style.display = 'none';
            document.getElementById('femaleZodiacDisplay').style.display = 'none';
        }
    </script>
</body>
</html>